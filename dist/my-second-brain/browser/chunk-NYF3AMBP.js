import{b as z,c as J}from"./chunk-REPW34LX.js";import{a as W}from"./chunk-2RT7NSVM.js";import{b as V}from"./chunk-4M3LKOSA.js";import{a as N,b as $}from"./chunk-BS7LHHWF.js";import{a as B}from"./chunk-D4YOEK6T.js";import{a as F}from"./chunk-3YSI55WN.js";import{d as D}from"./chunk-TMXYE3CE.js";import{p as M}from"./chunk-LEGQLTLF.js";import{a as k}from"./chunk-3WH6QEWM.js";import"./chunk-5ANNPB5B.js";import{$ as S,Eb as L,Fb as O,Ga as _,Ia as c,Na as d,Nb as T,Ob as A,Sa as I,W as C,Wa as E,aa as p,fb as P,hb as U,ia as g,ja as x,jb as j,kb as y,lb as o,mb as n,nb as b,ob as R,pb as H,qb as u,wa as l,xb as a,yb as s,zb as w}from"./chunk-72W4SQTP.js";var f=class t extends N{constructor(e,i){super(e,i,"localProducts");this.httpClient=e;this.relativeEndpoint="/local-products"}getProducts(){return this._get(this.relativeEndpoint)}static \u0275fac=function(i){return new(i||t)(S(k),S($))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var K=(t,r)=>r.id;function Q(t,r){if(t&1){let e=R();o(0,"button",9),H("click",function(){g(e);let m=u().$implicit,v=u();return x(v.cartService.addToCart(m))}),a(1," Add to Cart "),n()}}function X(t,r){if(t&1&&(o(0,"div",1)(1,"figure"),b(2,"img",3),n(),o(3,"div",4)(4,"div",5)(5,"h2",6),a(6),n(),o(7,"div",6),a(8),n()(),o(9,"p"),a(10),n(),o(11,"div",7),E(12,Q,2,0,"button",8),n()()()),t&2){let e=r.$implicit,i=u();c(2),P("src",e.image,_)("alt",e.name),c(4),s(e.name),c(2),w("\u20AC ",e.cost,""),c(2),s(e.description),c(2),U(i.settingsService.isShopEnabled()?12:-1)}}var h=class t{constructor(r,e,i){this.productService=r;this.router=e;this.cartService=i;A(()=>{let m=this.userName();m?this.translateService.get("SHARED:WELCOME_USER",{userName:m}).subscribe(v=>{this.homeUserLabel.set(v)}):this.homeUserLabel.set("WELCOME")})}settingsService=p(V);authService=p(F);translateService=p(z);products=l([]);cartItems=l([]);user=B(this.authService.user$);userName=T(()=>this.user()?.name??null);homeUserLabel=l("SHARED:WELCOME_USER");ngOnInit(){this.cartItems=this.cartService.items,this.productService.getProducts().subscribe(r=>{this.products.set(r)})}static \u0275fac=function(e){return new(e||t)(d(f),d(D),d(W))};static \u0275cmp=I({type:t,selectors:[["app-home-user"]],decls:9,vars:4,consts:[[1,"flex","gap-6","justify-center"],[1,"card","w-full","bg-base-100","shadow-xl"],[1,"my-3"],[3,"src","alt"],[1,"card-body"],[1,"flex","justify-between"],[1,"card-title"],[1,"card-actions","justify-end"],[1,"btn","btn-primary"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){e&1&&(o(0,"h1"),a(1),n(),o(2,"div",0),j(3,X,13,6,"div",1,K),n(),b(5,"hr",2),o(6,"pre"),a(7),L(8,"json"),n()),e&2&&(c(),s(i.homeUserLabel()),c(2),y(i.products()),c(4),s(O(8,2,i.cartItems())))},dependencies:[M,J],encapsulation:2})};export{h as default};
